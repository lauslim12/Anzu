(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{387:function(e,t,a){"use strict";a.r(t);var s=a(46),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),a("p",[e._v("To install Anzu, follow the following procedures.")]),e._v(" "),a("h2",{attrs:{id:"prerequisite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisite"}},[e._v("#")]),e._v(" Prerequisite")]),e._v(" "),a("p",[e._v("You are going to need some of these variables as environment variables.")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("ADMIN_USER_ID")]),e._v(", gained after adding the bot as a friend after activating the application. For the first time, just set this one to a random value.")]),e._v(" "),a("li",[a("code",[e._v("CHANNEL_ACCESS_TOKEN")]),e._v(", which is your LINE Developers Account API Key to activate the channel webhook.")]),e._v(" "),a("li",[a("code",[e._v("CHANNEL_SECRET")]),e._v(", which is your LINE Developers Account Secret Key to authorize your application.")]),e._v(" "),a("li",[a("code",[e._v("DATABASE")]),e._v(", which is your MongoDB connection string, in the format of:")])]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mongodbserver://USERNAME:PASSWORDrandommongodbstring/DATABASENAME?randommongodbstring\n")])])]),a("h2",{attrs:{id:"account-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#account-setup"}},[e._v("#")]),e._v(" Account Setup")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Before we do anything else, you must make a LINE Developers Account and issue yourself a "),a("code",[e._v("CHANNEL_ACCESS_TOKEN")]),e._v(" and "),a("code",[e._v("CHANNEL_SECRET")]),e._v(" API keys. You could follow the instructions at "),a("a",{attrs:{href:"https://developers.line.biz/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("LINE Developers's official site"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Create a LINE Official Account and take note that it takes a webhook URL.")])]),e._v(" "),a("li",[a("p",[e._v("Don't forget to disable all of the auto-response and greeting messages, as they have already been programmed in the application.")])]),e._v(" "),a("li",[a("p",[e._v("The next thing that you should do is that you must make yourself a MongoDB connection string to be used. I recommend you to use "),a("a",{attrs:{href:"https://www.mongodb.com/cloud/atlas",target:"_blank",rel:"noopener noreferrer"}},[e._v("MongoDB Atlas"),a("OutboundLink")],1),e._v(", a Database as a Service. Get your connection string and we are going to use it in the "),a("code",[e._v("DATABASE")]),e._v(" environment variable. Make sure that you resolve the whole connection string (fill the "),a("code",[e._v("<password>")]),e._v(" and the "),a("code",[e._v("<dbname>")]),e._v(").")])]),e._v(" "),a("li",[a("p",[e._v("An example of the 'resolved' connection string would be like the following string.")])])]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mongodbserver://USERNAME:PASSWORDrandommongodbstring/DATABASENAME?randommongodbstring\n")])])]),a("h2",{attrs:{id:"repository-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#repository-setup"}},[e._v("#")]),e._v(" Repository Setup")]),e._v(" "),a("ul",[a("li",[e._v("We'll start by initializing our repository. First off, fork and clone the repository. I am going to assume that you would clone the repository into the "),a("code",[e._v("$HOME")]),e._v(" directory.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/lauslim12/Anzu.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$HOME")]),e._v("/Anzu\n")])])]),a("p",[e._v("Now, the next step diverges, if you want to install the application in your own webserver, follow the next section. If you want to install the application in a Heroku provider, skip this section and continue to the next section. Remember that as per "),a("a",{attrs:{href:"https://developers.line.biz/en/docs/messaging-api/building-bot/",target:"_blank",rel:"noopener noreferrer"}},[e._v("LINE Guidelines"),a("OutboundLink")],1),e._v(", it is impossible to run the application locally, as LINE Webhook requires HTTPS with a valid SSL/TLS certificate issued by a certified authority.")]),e._v(" "),a("h2",{attrs:{id:"installing-anzu-in-a-personal-webserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing-anzu-in-a-personal-webserver"}},[e._v("#")]),e._v(" Installing Anzu in a Personal Webserver")]),e._v(" "),a("ul",[a("li",[e._v("Install the repository to your web server.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),a("ul",[a("li",[e._v("Build the application first.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build\n")])])]),a("ul",[a("li",[e._v("Setup your environment variables, according to the "),a("code",[e._v("app.json")]),e._v(" file.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ADMIN_USER_ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("YOUR_LINE_USERID\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("CHANNEL_ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("YOUR_CHANNEL_ACESS_TOKEN\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("CHANNEL_SECRET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("YOUR_CHANNEL_SECRET_TOKEN\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("DATABASE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("YOUR_DATABASE_RESOLVED_CONNECTION_STRING\n")])])]),a("ul",[a("li",[e._v("The "),a("code",[e._v("ADMIN_USER_ID")]),e._v(" is not your LINE ID, but is a randomly generated ID by the bot. This ID will be given after you added the bot as a friend. Check out your MongoDB Atlas!")])]),e._v(" "),a("h2",{attrs:{id:"installing-anzu-as-a-heroku-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing-anzu-as-a-heroku-application"}},[e._v("#")]),e._v(" Installing Anzu as a Heroku Application")]),e._v(" "),a("p",[e._v("As an alternative way to deploy the application, we could use a PaaS (Platform as a Service) provider such as Heroku. You could follow the following procedures to setup Anzu quickly. I am going to assume that you are already in the "),a("code",[e._v("Anzu")]),e._v(" folder.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" init\nheroku create\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Deploying Anzu to Heroku"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" push heroku master\nheroku config:set "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("VALUE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("refer to app.json "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" all environment variables"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nheroku "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("open")]),e._v("\n")])])]),a("p",[e._v("You do not need to build the application first. Heroku does that automatically for you.")]),e._v(" "),a("p",[e._v("If you want to use the production version (everyone can schedule tasks, delete tasks, enable long reminders, etcetera), make sure to change the "),a("code",[e._v("constants/constants.ts")]),e._v(" file! You can enable long reminders (so Anzu displays the unfinished tasks instead of prompting you to use "),a("code",[e._v("/tasks")]),e._v(") or disable the administrator guard, which means that everyone in the environment can create, delete, or reschedule tasks.")]),e._v(" "),a("p",[e._v("The default dyno process is "),a("code",[e._v("web")]),e._v(", and it will run "),a("code",[e._v("npm start")]),e._v(".")]),e._v(" "),a("p",[e._v("As an alternative to deployment, simply click the following button.")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://heroku.com/deploy?template=https://github.com/lauslim12/Anzu",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.herokucdn.com/deploy/button.svg",alt:"Deploy"}}),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"post-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-deployment"}},[e._v("#")]),e._v(" Post-Deployment")]),e._v(" "),a("p",[e._v("After deploying the application, put the URL of your deployed application into your LINE Official Account webhook and enable Webhooks. Doing that solves the deployment.")]),e._v(" "),a("p",[e._v("Next step, don't forget to change the "),a("RouterLink",{attrs:{to:"/getting-started/configurations.html"}},[e._v("configuration file")]),e._v(" to your personal preferences! Don't forget to push Anzu again to the latest repository on your webserver or Heroku, or else the changes will not be reflected.")],1),e._v(" "),a("p",[e._v("Feel free to add the LINE account to use your own personal LINE scheduler! Don't forget to chat or invite her to a group / room!")])])}),[],!1,null,null,null);t.default=o.exports}}]);